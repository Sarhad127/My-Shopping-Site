<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      http-equiv="Permissions-Policy"
      content="interest-cohort=(), user-id=()"
    />
    <title>Webshop</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="style.css" />
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.7.1/dist/jquery.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js"></script>
  </head>

  <body class="container-fluid summary">
    <h1 style="text-align: center; margin: 20px">Sammanställning</h1>
    <a href="start.html" id="tillbaks">Tillbaka till Startsidan</a>
    <h1 class="tackar">Vi har mottagit din order!</h1>
    <p id="orderText">
      Tack för din beställning! Medan vi behandlar din order, kan du luta dig
      tillbaks, slappna av och vänta en kort stund för din produkt. Din
      beställning är mottagen och behandlas.
    </p>
    <div class="inline">
      <div class="container">
        <div class="box" id="box1">
          <h2 class="tittel">Order information:</h2>
          <div class="col m-3 col-4 mx-auto"></div>
          <div class="row m-3">
            <p><b>Namn:</b></p>
            <p id="namn">...</p>
          </div>
          <div class="row m-3">
            <p><b>Email:</b></p>
            <p id="email">...</p>
          </div>
          <div class="row m-3">
            <p><b>Telefonnummer:</b></p>
            <p id="telefon">...</p>
          </div>
          <div class="row m-3">
            <p><b>Adress:</b></p>
            <p id="adress1">...</p>
            <p id="adress2">...</p>
          </div>
          <div class="row m-3">
            <p><b>Produkter:</b></p>
            <p id="order-products"></p>
          </div>
          <div class="row m-3">
            <p><b>Pris:</b></p>
            <p id="pris">...</p>
          </div>
        </div>
      </div>
    </div>
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const orderedProducts =
          JSON.parse(localStorage.getItem("checkoutCart")) || {};
        const productList = document.getElementById("order-products");
        const priceElement = document.getElementById("pris");
        let totalPrice = 0;
        for (let productId in orderedProducts) {
          const product = orderedProducts[productId];
          const productItem = document.createElement("li");
          productItem.textContent = `${product.name} - Antal: ${product.quantity}`;
          productList.appendChild(productItem);
          totalPrice += product.price * product.quantity;
        }
        priceElement.textContent = `${totalPrice.toFixed(2)} $`;
      });
      document
        .getElementById("tillbaks")
        .addEventListener("click", function () {
          localStorage.clear("checkoutCart");
        });
    </script>
    <script src="sum-script.js"></script>
  </body>
</html>
